{"version":3,"sources":["components/Common/CategoryTree.js","components/Core/Categories.js","components/Layout/ContentWrapper.js","components/Common/CustomPagination.js"],"names":["CategoryTree","_this","this","react_default","a","createElement","reactstrap_es","hover","responsive","props","categories","map","category","i","key","id","Link","to","concat","typePath","name","color","size","onClick","editCategory","className","deleteCategory","disabled","children","length","title","addCategory","bind","React","Component","Categories","state","loading","modal","page","number","totalElements","totalPages","filters","search","type","typeName","editFlag","currentCategory","newCategory","superCategory","addError","deleteError","updateError","updateParent","parent","x","dx","index","searchUser","e","str","target","value","setState","o","loadCategories","updateNewCategory","toggleModal","resetCategory","onSubmit","preventDefault","url","server_url","context_path","axios","patch","then","res","status","getChildrenArr","console","log","response","data","globalErrors","swal","finally","parentCategory","lineage","menu","uid","user","active","post","unshift","forEach","idx","text","icon","dangerMode","button","closeModal","willDelete","delete","splice","catch","err","offset","_this2","encodeURIComponent","get","_embedded","_this3","path","match","substr","indexOf","endsWith","charAt","toUpperCase","slice","child","arr","indexArr","getIndexArr","_this4","ContentWrapper","PageLoader","onChange","placeholder","isOpen","toggle","md","maxLength","required","Common_CategoryTree","CustomPagination","connect","settings","login","userObj","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","unwrap","defaultProps","renderPagination","fromElement","toElement","react__WEBPACK_IMPORTED_MODULE_6___default","Span2","Span1","Div2","react_js_pagination__WEBPACK_IMPORTED_MODULE_7___default","activePage","itemsCountPerPage","totalItemsCount","pageRangeDisplayed","itemClass","linkClass","prevPageText","nextPageText","Div1","styled","div","_templateObject","_templateObject2","span","_templateObject3","_templateObject4"],"mappings":"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","file":"static/js/24.3ea01c16.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n    Button,\r\n    Table\r\n} from 'reactstrap';\r\n\r\n\r\nclass CategoryTree extends React.Component {\r\n    \r\n    render() {\r\n        return (\r\n        <Table hover responsive>\r\n            <thead>\r\n                <tr>\r\n                    <th>Name</th>\r\n                    <th></th>\r\n                    <th>Sub Categories</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {this.props.categories.map((category, i) => {\r\n                    return (\r\n                    <tr key={category.id}>\r\n                        <td>\r\n                        {i + 1}. <Link to={`/${this.props.typePath}?category=${category.id}`}>{category.name}</Link>\r\n                        </td>\r\n                        <td>\r\n                            <Button color=\"inverse\" size=\"xs\" onClick={() => this.props.editCategory(category)}>\r\n                                <i className=\"fa fa-edit\"></i>\r\n                            </Button>\r\n                            <Button color=\"warning\" size=\"xs\" onClick={() => this.props.deleteCategory(category)}\r\n                                disabled={category.children.length > 0} title={category.children.length > 0 ? 'Can not delete category with childs' : ''}>\r\n                                <i className=\"fa fa-trash\"></i>\r\n                            </Button>\r\n                        </td>\r\n                        <td>\r\n                            <Button color=\"success\" size=\"xs\" onClick={() => this.props.addCategory(category)}>\r\n                                <i className=\"fa fa-plus\"></i> Add\r\n                            </Button>\r\n                            {category.children.length > 0 &&\r\n                            <CategoryTree \r\n                            typePath={this.props.typePath} \r\n                            categories={category.children} \r\n                            addCategory={this.props.addCategory.bind(this)}\r\n                            editCategory={this.props.editCategory.bind(this)}\r\n                            deleteCategory={this.props.deleteCategory.bind(this)} />}\r\n                        </td>\r\n                    </tr>\r\n                    )\r\n                })}\r\n            </tbody>\r\n        </Table>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CategoryTree;","import React, { Component } from 'react';\r\nimport PageLoader from '../Common/PageLoader';\r\nimport ContentWrapper from '../Layout/ContentWrapper';\r\nimport {\r\n    Button,\r\n    Col,\r\n    Card,\r\n    CardBody,\r\n    Input,\r\n    Modal,\r\n    ModalHeader,\r\n    ModalBody\r\n} from 'reactstrap';\r\n\r\nimport swal from 'sweetalert';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\nimport Moment from 'react-moment';\r\nimport { Link } from 'react-router-dom';\r\nimport CustomPagination from '../Common/CustomPagination';\r\nimport CategoryTree from '../Common/CategoryTree';\r\nimport { server_url, context_path } from '../Common/constants';\r\n\r\nclass Categories extends Component {\r\n    state = {\r\n        loading: false,\r\n        modal: false,\r\n        page: {\r\n            number: 0,\r\n            size: 20,\r\n            totalElements: 0,\r\n            totalPages: 0\r\n        },\r\n        filters: {\r\n            search: ''\r\n        },\r\n        type: '',\r\n        typeName: '',\r\n        typePath: '',\r\n        categories: [],\r\n        editFlag: false,\r\n        currentCategory: '',\r\n        newCategory: {\r\n            name: '',\r\n            type: '',\r\n        },\r\n        superCategory: '',\r\n        addError: '',\r\n        deleteError: '',\r\n        updateError: ''\r\n    };\r\n\r\n    updateParent = (categories, parent) => {\r\n        for(var x in categories) {\r\n            var dx = categories[x];\r\n            dx.index = x;\r\n            dx.parent = parent;\r\n\r\n            if(dx.children.length) {\r\n                this.updateParent(dx.children, dx);\r\n            }\r\n        }\r\n    }\r\n\r\n    loadCategories(offset) {\r\n        if (!offset) offset = 1;\r\n        var url = server_url + context_path + \"/api/categories?projection=category_all&lineage=null&sort=lineage,asc&page=\" + (offset - 1) + \"&uid=\" + this.props.user.id;\r\n\r\n        if (this.state.type) {\r\n            url += \"&type=\" + this.state.type;\r\n        }\r\n\r\n        if (this.state.filters.search) {\r\n            url += \"&name=\" + encodeURIComponent('%' + this.state.filters.search + '%');\r\n        }\r\n\r\n        axios.get(url)\r\n            .then(res => {\r\n                this.updateParent(res.data._embedded.categories, null);\r\n\r\n                this.setState({\r\n                    categories: res.data._embedded.categories,\r\n                    page: res.data.page\r\n                });\r\n            })\r\n    }\r\n\r\n    componentDidMount() {\r\n        var path = this.props.match.path.substr(1);\r\n        path = path.substr(0, path.indexOf('/'));\r\n\r\n        var newCategory = this.state.newCategory;\r\n        newCategory.type = path.substr(0, 4);\r\n        var typeName = path.endsWith('s') ? path.substr(0, path.length - 1) : path;\r\n\r\n        this.setState({\r\n            typePath: path,\r\n            type: newCategory.type,\r\n            typeName: typeName.charAt(0).toUpperCase() + typeName.slice(1),\r\n            newCategory: newCategory\r\n        }, o => {this.loadCategories()});\r\n    }\r\n\r\n    searchUser = e => {\r\n        var str = e.target.value;\r\n        var filters = this.state.filters;\r\n\r\n        filters.search = str;\r\n        this.setState({ filters }, o => { this.loadCategories() });\r\n    }\r\n\r\n    updateNewCategory = e => {\r\n        var newCategory = this.state.newCategory;\r\n        newCategory.name = e.target.value;\r\n        this.setState({ newCategory });\r\n    }\r\n\r\n    toggleModal = () => {\r\n        this.setState({\r\n            modal: !this.state.modal\r\n        });\r\n    }\r\n\r\n\r\n    resetCategory() {\r\n        var newCategory = {\r\n            name: '',\r\n            type: this.state.type\r\n        }\r\n\r\n        this.setState({ newCategory });\r\n    }\r\n\r\n    addCategory = (superCategory) => {\r\n        this.resetCategory();\r\n        this.setState({ superCategory });\r\n        this.setState({ editFlag: false });\r\n\r\n        this.toggleModal();\r\n    }\r\n\r\n    editCategory = (newCategory) => {\r\n        this.setState({ newCategory });\r\n        this.setState({ superCategory: newCategory.parent });\r\n        this.setState({ editFlag: true });\r\n\r\n        this.toggleModal();\r\n    }\r\n\r\n    getIndexArr(child) {\r\n        var arr = [];\r\n        while(child.parent) {\r\n            arr.unshift(child.index);\r\n            child = child.parent;\r\n        }\r\n\r\n        arr.unshift(child.index);\r\n\r\n        return arr;\r\n    }\r\n\r\n    getChildrenArr(category, categories) {\r\n        var indexArr = this.getIndexArr(category.parent);\r\n        var children = categories;\r\n        for(var x in indexArr) {\r\n            children = children[indexArr[x]].children;\r\n        }\r\n\r\n        return children;\r\n    }\r\n\r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        var url = server_url + context_path + \"/api/categories/\";\r\n\r\n        var newCategory = this.state.newCategory;\r\n\r\n        this.setState({ loading: true });\r\n\r\n        if (this.state.editFlag) {\r\n            url += this.state.newCategory.id;\r\n\r\n            axios.patch(url, { name: newCategory.name })\r\n                .then(res => {\r\n                    this.toggleModal();\r\n\r\n                    if (res.status === 200) {\r\n                        var categories = this.state.categories;\r\n\r\n                        var children = this.getChildrenArr(newCategory, categories);\r\n\r\n                        console.log(newCategory);\r\n                        console.log(children);\r\n\r\n                        children[newCategory.index] = newCategory;\r\n\r\n                        this.setState({ categories });\r\n                    } else {\r\n                        this.setState({ addError: res.response.data.globalErrors[0] });\r\n                        swal(\"Unable to Edit!\", res.response.data.globalErrors[0], \"error\");\r\n                    }\r\n                }).finally(() => {\r\n                    this.setState({ loading: false });\r\n                })\r\n        } else {\r\n            if(this.state.superCategory) {\r\n                newCategory.parentCategory = this.state.superCategory.id;\r\n                newCategory.lineage = (this.state.superCategory.lineage ? this.state.superCategory.lineage : '$') + this.state.superCategory.id + '$';\r\n            } else {\r\n                newCategory.menu = true;\r\n            }\r\n\r\n            newCategory.uid = this.props.user.id;\r\n            newCategory.active = true;\r\n\r\n            axios.post(url, newCategory)\r\n            .then(res => {\r\n                this.toggleModal();\r\n\r\n                if (res.status === 201) {\r\n                    var categories = this.state.categories;\r\n\r\n                    var category = res.data;\r\n                    category.parent = this.state.superCategory;\r\n                    category.children = [];\r\n\r\n                    var children = this.getChildrenArr(category, categories);\r\n\r\n                    children.unshift(res.data);\r\n\r\n                    children.forEach(function(dx, idx) {\r\n                        dx.index = idx;\r\n                    })\r\n\r\n                    this.setState({ categories });\r\n                } else {\r\n                    this.setState({ addError: res.response.data.globalErrors[0] });\r\n                    swal(\"Unable to Add!\", res.response.data.globalErrors[0], \"error\");\r\n                }\r\n            }).finally(() => {\r\n                this.setState({ loading: false });\r\n            })\r\n        }\r\n    }\r\n\r\n    \r\n    deleteCategory = (category) => {\r\n        swal({\r\n            title: \"Are you sure?\",\r\n            text: \"You will not be able to recover this Category!\",\r\n            icon: \"warning\",\r\n            dangerMode: true,\r\n            button: {\r\n                text: \"Yes, delete it!\",\r\n                closeModal: true,\r\n            }\r\n        })\r\n        .then(willDelete => {\r\n            if (willDelete) {\r\n                axios.delete(server_url + context_path + \"/api/categories/\" + category.id)\r\n                    .then(res => {\r\n                        var categories = this.state.categories;\r\n\r\n                        var children = this.getChildrenArr(category, categories);\r\n\r\n                        children.splice(category.index, 1);\r\n\r\n                        children.forEach(function(dx, idx) {\r\n                            dx.index = idx;\r\n                        })\r\n                        \r\n                        this.setState({ categories });\r\n                    }).finally(() => {\r\n                        this.setState({ loading: false });\r\n                    }).catch(err => {\r\n                        this.setState({ deleteError: err.response.data.globalErrors[0] });\r\n                        swal(\"Unable to Delete!\", err.response.data.globalErrors[0], \"error\");\r\n                    })\r\n                }\r\n            });\r\n    }\r\n\r\n    render() {\r\n        const CSS = '.content-wrapper .btn { margin: 0 4px 4px 0 }';\r\n\r\n        return (\r\n            <ContentWrapper>\r\n                {this.state.loading && <PageLoader />}\r\n                <style>{CSS}</style>\r\n                <div className=\"content-heading\">\r\n                    {this.state.typeName} Categories\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"col-lg-12 col-md-12\">\r\n                        <Card className=\"card-default\">\r\n                            <div className=\"card-header\">\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-md-2 offset-md-4\">\r\n                                        <h4 className=\"float-right\">Filters : </h4>\r\n                                    </div>\r\n                                    <div className=\"col-md-4\">\r\n                                        <Input type=\"text\" onChange={this.searchUser} value={this.state.filters.search} placeholder=\"search category...\" />\r\n                                    </div>\r\n                                    <div className=\"col-md-2\">\r\n                                        <Button color=\"success\" size=\"sm\" className=\"float-right\" onClick={() => this.addCategory()}>\r\n                                            <i className=\"fa fa-plus\"></i>&nbsp; Add Category\r\n                                        </Button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <CardBody>\r\n                                <Modal isOpen={this.state.modal} toggle={this.toggleModal}>\r\n                                    <ModalHeader toggle={this.toggleModal}>\r\n                                        {this.state.editFlag && <span>Edit </span>}\r\n                                        {!this.state.editFlag && <span>Add </span>}\r\n                                        Category\r\n                                    </ModalHeader>\r\n                                    <ModalBody>\r\n                                        <form className=\"form-horizontal\" onSubmit={this.onSubmit}>\r\n                                            {this.state.superCategory && \r\n                                            <fieldset>\r\n                                                <div className=\"form-category row mb\">\r\n                                                    <label className=\"col-md-4 col-form-label\">Super Categories</label>\r\n                                                    <Col md={8}>\r\n                                                        <h3>{this.state.superCategory.name}</h3>\r\n                                                    </Col>\r\n                                                </div>\r\n                                            </fieldset>\r\n                                            }\r\n                                            <fieldset>\r\n                                                <div className=\"form-category row mb\">\r\n                                                    <label className=\"col-md-4 col-form-label\">Name</label>\r\n                                                    <Col md={8}>\r\n                                                        <Input type=\"text\" onChange={this.updateNewCategory} maxLength=\"20\" value={this.state.newCategory.name} required />\r\n                                                    </Col>\r\n                                                </div>\r\n                                            </fieldset>\r\n\r\n                                            <fieldset>\r\n                                                <div className=\"form-category row\">\r\n                                                    <div className=\"col-sm-12 text-center\">\r\n                                                        <button type=\"submit\" className=\"btn btn-primary\">Save Category</button>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </fieldset>\r\n                                        </form>\r\n                                    </ModalBody>\r\n                                </Modal>\r\n\r\n                                <CategoryTree \r\n                                typePath={this.state.typePath} \r\n                                categories={this.state.categories} \r\n                                addCategory={this.addCategory.bind(this)}\r\n                                editCategory={this.editCategory.bind(this)}\r\n                                deleteCategory={this.deleteCategory.bind(this)} />\r\n\r\n                                <CustomPagination page={this.state.page} onChange={(x) => this.loadCategories(x)} />\r\n                            </CardBody>\r\n                        </Card>\r\n                    </div>\r\n                </div>\r\n            </ContentWrapper>\r\n        );\r\n    }\r\n\r\n}\r\nconst mapStateToProps = state => ({ settings: state.settings, user: state.login.userObj })\r\n\r\nexport default connect(\r\n    mapStateToProps\r\n)(Categories);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n/**\r\n * Wrapper element for template content\r\n */\r\nconst ContentWrapper = props =>(\r\n    <div className=\"content-wrapper\">\r\n        {props.unwrap ?\r\n            (<div className=\"unwrap\">{props.children}</div>)\r\n            :\r\n            (props.children)\r\n        }\r\n    </div>\r\n)\r\n\r\nContentWrapper.propTypes = {\r\n    /** add element with 'unwrap' class to expand content area */\r\n    unwrap: PropTypes.bool\r\n}\r\nContentWrapper.defaultProps = {\r\n    unwrap: false\r\n}\r\n\r\nexport default ContentWrapper;\r\n","import React from \"react\";\nimport Pagination from \"react-js-pagination\";\nimport styled from \"styled-components\";\n\nclass CustomPagination extends React.Component {\n    renderPagination = () => {\n        var fromElement = (this.props.page.number * this.props.page.size) + 1;\n        var toElement = fromElement + this.props.page.size - 1;\n\n        if (toElement > this.props.page.totalElements) {\n            toElement = this.props.page.totalElements;\n        }\n\n        var text = 'Showing ' + fromElement + ' to ' + toElement + ' of ' + this.props.page.totalElements + ' entries';\n\n        var content = <div className=\"row text-center\">\n            {this.props.page.totalElements === 0 && <div className=\"col-sm-12\">\n                <Span2>No records found</Span2>\n            </div>}\n            {this.props.page.totalElements > 0 && this.props.page.totalPages > 1 && <div className=\"col-sm-12 col-md-5\">\n                <Span1>{text}</Span1>\n            </div>}\n            {this.props.page.totalElements > 0 && this.props.page.totalPages > 1 && <div className=\"col-sm-12 col-md-7\">\n                <Div2>\n                    <Pagination\n                        activePage={this.props.page.number + 1}\n                        itemsCountPerPage={this.props.page.size}\n                        totalItemsCount={this.props.page.totalElements}\n                        pageRangeDisplayed={5}\n                        onChange={this.props.onChange}\n                        itemClass=\"page-item\"\n                        linkClass=\"page-link\"\n                        prevPageText=\"<\"\n                        nextPageText=\">\"\n                    />\n                </Div2>\n            </div>}\n        </div>;\n\n        return content;\n    }\n\n    render() {\n        const CSS = 'ul.pagination { white-space: nowrap; justify-content: flex-end; margin: 2px 0px; }';\n\n        return (\n            <Div1>\n                <style>{CSS}</style>\n                {this.renderPagination()}\n            </Div1>\n        );\n    }\n}\n\nexport default CustomPagination;\n\nconst Div1 = styled.div`\n    margin: 20px 10px 0;\n  `;\n\nconst Div2 = styled.div`\ndisplay: flex;\n-webkit-justify-content: flex-end;\njustify-content: flex-end;\nflex-direction: column;\nhite-space: nowrap;\ntext-align: right;\nmargin: 0px;\n\n`;\n\nconst Span1 = styled.span`\n    padding-top: 1em;\n    white-space: nowrap;\n    float: left;\n  `;\n\nconst Span2 = styled.span`\n    padding-top: 1em;\n    white-space: nowrap;\n    font-size: 16px;\n  `;"],"sourceRoot":""}