(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{1216:function(e,a,t){"use strict";t.r(a);var r=t(559),s=t(63),n=t(62),i=t(40),m=t(41),l=t(43),c=t(42),o=t(44),d=t(1),u=t.n(d),p=(t(124),t(1210)),h=t(3),g=t(612),b=t(58),f=function(e){function a(){var e,t;Object(i.a)(this,a);for(var m=arguments.length,o=new Array(m),d=0;d<m;d++)o[d]=arguments[d];return(t=Object(l.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(o)))).state={loading:!1,formRegister:{fname:"",email:"",password:"",password2:"",terms:!1}},t.validateOnChange=function(e){var a,r=e.target,i=r.form,m="checkbox"===r.type?r.checked:r.value,l=g.a.validate(r);t.setState(Object(s.a)({},i.name,Object(n.a)({},t.state[i.name],(a={},Object(s.a)(a,r.name,m),Object(s.a)(a,"errors",Object(n.a)({},t.state[i.name].errors,Object(s.a)({},r.name,l))),a))))},t.onSubmit=function(e){var a=e.target,i=Object(r.a)(a.elements).filter(function(e){return["INPUT","SELECT"].includes(e.nodeName)}),m=g.a.bulkValidate(i),l=m.errors;m.hasError;t.setState(Object(s.a)({},a.name,Object(n.a)({},t.state[a.name],{errors:l}))),e.preventDefault();var c={name:t.state.formRegister.fname,email:t.state.formRegister.email,password:t.state.formRegister.password};fetch(b.i+b.d+"register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then(function(e){return e.json()}).then(function(e){200===e.status||201===e.status?(t.props.actions.login(e.user),t.props.history.push("/dashboard")):t.setState({loginError:e.message})}).catch(function(e){t.setState({loginError:"Error while processing"})})},t.hasError=function(e,a,r){return t.state[e]&&t.state[e].errors&&t.state[e].errors[a]&&t.state[e].errors[a][r]},t}return Object(o.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return u.a.createElement("div",{className:"block-center"},u.a.createElement("style",null,".wrapper{background: #2b3eb7} .card {min-height: 400px; max-width: 400px; margin: calc(50vh - 200px) auto 0 !important;} .card img {height: 75px} .btn-primary, .btn-primary:hover, .btn-primary:active, .btn-primary:focus {color: #fff !important; background-color: #2b3eb7 !important; border-color: #2b3eb7 !important; box-shadow: none !important;} .custom-control-label:before,.custom-control-label:after {top: -0.07rem;left: -1.5rem;}"),u.a.createElement("div",{className:"card card-flat"},u.a.createElement("div",{className:"card-header text-center bg-default"},u.a.createElement(p.a,{to:""},u.a.createElement("img",{className:"block-center",src:"img/logo-dark.png",alt:"Logo"}))),u.a.createElement("div",{className:"card-body"},u.a.createElement("p",{className:"text-center py-2"},"SIGNUP TO GET INSTANT ACCESS."),u.a.createElement("form",{className:"mb-3",name:"formRegister",onSubmit:this.onSubmit},u.a.createElement("div",{className:"form-group"},u.a.createElement("div",{className:"input-group with-focus"},u.a.createElement(h.n,{type:"text",id:"id-fname",name:"fname",className:"border-right-0",placeholder:"Name",invalid:this.hasError("formRegister","fname","required"),onChange:this.validateOnChange,"data-validate":'["required"]',value:this.state.formRegister.fname}),u.a.createElement("div",{className:"input-group-append"},u.a.createElement("span",{className:"input-group-text text-muted bg-transparent border-left-0"},u.a.createElement("em",{className:"fa fa-edit"}))),u.a.createElement("span",{className:"invalid-feedback"},"Field is required"))),u.a.createElement("div",{className:"form-group"},u.a.createElement("div",{className:"input-group with-focus"},u.a.createElement(h.n,{type:"email",name:"email",className:"border-right-0",placeholder:"Enter email",invalid:this.hasError("formRegister","email","required")||this.hasError("formRegister","email","email"),onChange:this.validateOnChange,"data-validate":'["required", "email"]',value:this.state.formRegister.email}),u.a.createElement("div",{className:"input-group-append"},u.a.createElement("span",{className:"input-group-text text-muted bg-transparent border-left-0"},u.a.createElement("em",{className:"fa fa-envelope"}))),this.hasError("formRegister","email","required")&&u.a.createElement("span",{className:"invalid-feedback"},"Field is required"),this.hasError("formRegister","email","email")&&u.a.createElement("span",{className:"invalid-feedback"},"Field must be valid email"))),u.a.createElement("div",{className:"form-group"},u.a.createElement("div",{className:"input-group with-focus"},u.a.createElement(h.n,{type:"password",id:"id-password",name:"password",className:"border-right-0",placeholder:"Password",invalid:this.hasError("formRegister","password","required"),onChange:this.validateOnChange,"data-validate":'["required"]',value:this.state.formRegister.password}),u.a.createElement("div",{className:"input-group-append"},u.a.createElement("span",{className:"input-group-text text-muted bg-transparent border-left-0"},u.a.createElement("em",{className:"fa fa-lock"}))),u.a.createElement("span",{className:"invalid-feedback"},"Field is required"))),u.a.createElement("div",{className:"form-group"},u.a.createElement("div",{className:"input-group with-focus"},u.a.createElement(h.n,{type:"password",name:"password2",className:"border-right-0",placeholder:"Retype assword",invalid:this.hasError("formRegister","password2","equalto"),onChange:this.validateOnChange,"data-validate":'["equalto"]',value:this.state.formRegister.password2,"data-param":"id-password"}),u.a.createElement("div",{className:"input-group-append"},u.a.createElement("span",{className:"input-group-text text-muted bg-transparent border-left-0"},u.a.createElement("em",{className:"fa fa-lock"}))),u.a.createElement("span",{className:"invalid-feedback"},"Field must be equal to previous"))),u.a.createElement(h.g,{type:"checkbox",id:"terms",name:"terms",label:"I agree with the terms",invalid:this.hasError("formRegister","terms","required"),onChange:this.validateOnChange,"data-validate":'["required"]',checked:this.state.formRegister.terms},u.a.createElement("span",{className:"invalid-feedback"},"Field is required")),u.a.createElement("button",{className:"btn btn-raised btn-block btn-primary mt-3",type:"submit"},"Create account"))),u.a.createElement("div",{className:"card-footer text-center"},u.a.createElement(p.a,{to:"login",className:"text-muted"},"Back to Login"))),u.a.createElement("div",{className:"p-3 text-center"},u.a.createElement("span",{className:"mr-2"},"\xa9"),u.a.createElement("span",null,"2019"),u.a.createElement("span",{className:"mx-2"},"-"),u.a.createElement("span",null,"MSC Chemicals")))}}]),a}(d.Component);a.default=f},612:function(e,a,t){"use strict";var r=t(63),s=t(62),n=t(661),i=t(659),m=t.n(i),l={validate:function(e){var a="checkbox"===e.type,t=a?e.checked:e.value;if(!e.name)throw new Error("Input name must not be empty.");var r=JSON.parse(e.getAttribute("data-validate")),s=[];return r&&r.length&&r.forEach(function(e){switch(e.key){case"required":if(u=a?!1===t:m.a.isEmpty(t)){var r={key:e.key,msg:"Field is mandatory"};s.push(r)}break;case"email":if(u=!m.a.isEmail(t)){r={key:e.key,msg:"Please enter valid email"};s.push(r)}break;case"number":if(u=!m.a.isNumeric(t)){r={key:e.key,msg:"Field should be number"};s.push(r)}break;case"integer":if(u=!m.a.isInt(t)){r={key:e.key,msg:"Field should be integer"};s.push(r)}break;case"alphanum":if(u=!m.a.isAlphanumeric(t)){r={key:e.key,msg:"Field should be alpha numeric"};s.push(r)}break;case"url":if(u=!m.a.isURL(t)){r={key:e.key,msg:"Field should be url"};s.push(r)}break;case"equalto":var i=document.getElementById(e.param).value;if(u=!m.a.equals(t,i)){r={key:e.key,msg:"Field should be match"};s.push(r)}break;case"minlen":if(u=!m.a.isEmpty(t)&&!m.a.isLength(t,{min:Number(e.param)})){r={key:e.key,msg:"Field should have minimum length: "+e.param};s.push(r)}break;case"maxlen":if(u=!m.a.isEmpty(t)&&!m.a.isLength(t,{max:Number(e.param)})){r={key:e.key,msg:"Field should have maximum length: "+e.param};s.push(r)}break;case"len":var l=JSON.parse(e.param),c=Object(n.a)(l,2),o=c[0],d=c[1];if(u=!m.a.isEmpty(t)&&!m.a.isLength(t,{min:o,max:d})){r={key:e.key,msg:"Field should have min length "+o+" maximum length: "+d};s.push(r)}break;case"min":if(u=!m.a.isInt(t,{min:m.a.toInt(e.param)})){r={key:e.key,msg:"Field should have minimum characters"};s.push(r)}break;case"max":if(u=!m.a.isInt(t,{max:m.a.toInt(e.param)})){r={key:e.key,msg:"Field should not exceed maximum characters"};s.push(r)}break;case"list":var u,p=JSON.parse(e.param);if(u=!m.a.isIn(t,p))r={status:u,message:u?"Invalid value":""};break;default:throw new Error("Unrecognized validator.")}}),s},bulkValidate:function(e){var a=this,t={},n=!1;return e.forEach(function(e){var i=a.validate(e);n||(n=i.length>0),t=Object(s.a)({},t,Object(r.a)({},e.name,i))}),{errors:t,hasError:n}}};a.a=l}}]);
//# sourceMappingURL=11.6e6d0815.chunk.js.map